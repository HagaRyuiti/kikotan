<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Diary System</title>
</head>
<body>

<h1>Pet Diary System</h1>

<!-- Display Pets -->
<h2>Pets</h2>
<ul>
    {% for pet in pets %}
        <li>
            <img src="{{ pet[1] }}" alt="{{ pet[2] }} Image" style="max-width: 100px; max-height: 100px;">
            <strong>{{ pet[2] }}</strong> (DOB: {{ pet[3] }})
            <ul>
                <!-- Display Diaries for each Pet -->
                {% for diary in diaries %}
                    {% if diary[1] == pet[0] %}
                        <li>
                            <img src="{{ diary[2] }}" alt="{{ diary[4] }} Image" style="max-width: 50px; max-height: 50px;">
                            <strong>{{ diary[4] }}</strong> ({{ diary[3] }})
                            <p>{{ diary[5] }}</p>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </li>
    {% endfor %}
</ul>

<!-- Add Pet Form -->
<h2>Add Pet</h2>
<form action="{{ url_for('add_pet') }}" method="post" enctype="multipart/form-data">
    <label for="petName">Pet Name:</label>
    <input type="text" name="petName" required>
    <label for="dob">Date of Birth:</label>
    <input type="date" name="dob" required>
    <label for="image">Image:</label>
    <input type="file" name="image" accept="image/*" required>
    <button type="submit">Add Pet</button>
</form>

<!-- Add Diary Form -->
<h2>Add Diary</h2>
<form action="{{ url_for('add_diary') }}" method="post" enctype="multipart/form-data">
    <label for="pet_id">Select Pet:</label>
    <select name="pet_id" required>
        {% for pet in pets %}
            <option value="{{ pet[0] }}">{{ pet[2] }}</option>
        {% endfor %}
    </select>
    <label for="date">Date:</label>
    <input type="date" name="date" required>
    <label for="title">Title:</label>
    <input type="text" name="title" required>
    <label for="content">Content:</label>
    <textarea name="content" rows="4" required></textarea>
    <label for="image">Image:</label>
    <input type="file" name="image" accept="image/*" required>
    <button type="submit">Add Diary</button>
</form>

</body>
</html>
